.TH DEVLINK\-SLICE 8 "26 Sep 2019" "iproute2" "Linux"
.SH NAME
devlink-slice \- devlink slice configuration
.SH SYNOPSIS
.sp
.ad l
.in +8
.ti -8
.B devlink
.RI "[ " OPTIONS " ]"
.B slice
.RI  " { " COMMAND " | "
.BR help " }"
.sp

.ti -8
.IR OPTIONS " := { "
\fB\-V\fR[\fIersion\fR] |
\fB\-n\fR[\fIno-nice-names\fR] }

.ti -8
.BR "devlink slice set "
.IR DEV/SLICE_INDEX
.RI "[ "
.BR hw_addr " HW_ADDR"
.RI "]"

.ti -8
.B devlink slice show
.RI "[ " DEV/SLICE_INDEX " ]"

.ti -8
.B devlink slice help

.ti -8
.BI "devlink slice rate add " DEV/GROUP_NAME
.RB "[ " min_tx_rate
.R RATE ] [
.BR max_tx_rate " RATE ]"

.ti -8
.B devlink slice rate set
.IR RATE_OBJ_SPEC " ["
.BR min_tx_rate " RATE ] [ " max_tx_rate " RATE ]"

.ti -8
.BI "devlink slice rate del " DEV/GROUP_NAME

.ti -8
.B devlink slice rate show
.RI "[ " RATE_OBJ_SPEC " ]"

.IR RATE_OBJ_SPEC " := { " DEV/SLICE_INDEX
.BR "type leaf " |
.IB DEV/GROUP_NAME " type node"
.R }

.IR GROUP_NAME " name of slice rate group object, string that starts with alphabetical character"


.IR RATE " allowed transmit bandwidth, in Mbps"

.SH "DESCRIPTION"
.SS devlink slice set - change devlink slice attributes

.PP
.B "DEV/SLICE_INDEX"
- specifies the devlink slice to operate on.

.in +4
Format is:
.in +2
BUS_NAME/BUS_ADDRESS/SLICE_INDEX

.TP
.BR hw_addr " HW_ADDR"
hw_addr of the target slice

.SS devlink slice show - display devlink slice attributes

.PP
.I "DEV/SLICE_INDEX"
- specifies the devlink slice to show.
If this argument is omitted all slices are listed.

.SS devlink slice rate show - display devlink slice rate or group rate attributes

.TP
.I "RATE_OBJ_SPEC"
specifies the devlink slice rate object (including its type) to show.
If this argument is omitted rate objects for all slices are listed.

.SS devlink slice rate set - change devlink slice rate or group rate attributes

.TP
.BR min_tx_rate " RATE"
Min tx rate of slice rate object in Mbps.

.TP
.BR max_tx_rate " RATE"
Max tx rate of slice rate object in Mbps.

.SS devlink slice rate add - add slice rate group

.TP
.I GROUP_NAME
Alphanumeric group name string (starts with alphabetical character).

.SS devlink slice rate del - remove slice rate group

.SH "EXAMPLES"
.PP
devlink slice show
.RS 4
Shows the state of all devlink slices on the system.
.RE
.PP
devlink slice show pci/0000:01:00.0/1
.RS 4
Shows the state of specified devlink slice.
.RE
.PP
devlink slice set pci/0000:01:00.0/1 hw_addr 10:22:33:44:55:66
.RS 4
Set the hw_addr of a the specified slice.
.RE
.PP
devlink slice rate show
.RS 4
Shows the state of all devlink slice rate objects in the system.
.RE
.PP
devlink slice rate show pci/0000:01:00.0/1 type leaf
.RS 4
Shows the state of specified devlink slice rate object of type 'leaf'.
.RE
.PP
devlink slice rate set pci/0000:01:00.0/1 type leaf min_tx_rate 10 max_tx_rate 100
.RS 4
Sets both min and max tx rates for specified slice rate object.
.RE
.PP
devlink slice rate add pci/0000:01:00.0/group1
.RS 4
Creates new devlink slice rate group.
.RE
.PP
devlink slice rate set pci/0000:01:00.0/group1 type node min_tx_rate 10 max_tx_rate 100
.RS 4
Sets both min and max tx rates for specified slice rate group.
.RE


.SH SEE ALSO
.BR devlink (8),
.BR devlink-dev (8),
.BR devlink-sb (8),
.BR devlink-monitor (8),
.BR devlink-port (8),
.BR devlink-health (8),
.BR devlink-resource (8),
.BR devlink-trap (8),
.BR devlink-region (8),
.br

.SH AUTHOR
Yuval Avnery <yuvalav@mellanox.com>
